<!DOCTYPE html>
<!--

YummyThings app
index.html
Created by @sauliuz // www.popularowl.com
@16.04.2013

-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title></title>
     
    
    </head>
    <body>
        <script type="text/javascript" src="cordova-2.6.0.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/xui-2.3.2.js"></script>
        <script src="http://debug.phonegap.com/target/target-script-min.js#popularowl"></script>
        
        <script type="text/javascript">
            app.initialize();
        </script>
        
        <script type="text/javascript">
            $( document ).ready(function() {
              $(".share").click(function (e) {
                $('.content').toggleClass('show');
                e.preventDefault();
              });
            });
        </script>
        
        
        <script type="text/javascript" charset="utf-8">
            
            function callWebService(){
                
                
                // We don't want API call to be made and data refreshed 
                if ($('#yummy').is(':empty')){
                    

                    // Adding spinner image until we will get response
                    $("#yummy").append("<img class='spinner' src='img/loadinfo.net.gif' />");
                    
                    var question = $("#question").val();
                    
                    // Log
                    console.log("Questions value: " + question);
                    
   
                    //create request url
                    var url = "http://your.test.server.url/?q=" + question + "&requirePictures=true";
                    
                    // Log
                    console.log("Request string: " + url);
                    
                    
                    // Call to web server
                    $.get(url, function(data) {
                          
                                    // Clear spinner
                                    $("#yummy").empty();
                          
                                    // Add results to HTML
                                    $("#yummy").html(data);
                          
                                    // Log received content
                                    console.log("Received string: " + data);

                                }
                          );
                                  
                } // end if
                

            }//end of method
            
        </script>
        
                
        <div id="menu">
            <input id="question" class="selection" type="text"></input>
            <div class="share" type="button" onclick="callWebService()" id="webservice_call">Find recipes</div>
            <div class="content" id="yummy"></div>
        </div>
    </body>
</html>
